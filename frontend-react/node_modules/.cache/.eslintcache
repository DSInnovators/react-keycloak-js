[{"/home/syed/Documents/react-keycloak-js/src/index.js":"1","/home/syed/Documents/react-keycloak-js/src/App.js":"2","/home/syed/Documents/react-keycloak-js/src/component/RenderOnAnonymous.jsx":"3","/home/syed/Documents/react-keycloak-js/src/component/RenderOnAuthenticated.jsx":"4","/home/syed/Documents/react-keycloak-js/src/component/Welcome.jsx":"5","/home/syed/Documents/react-keycloak-js/src/component/BookBox.jsx":"6","/home/syed/Documents/react-keycloak-js/src/services/UserService.js":"7","/home/syed/Documents/react-keycloak-js/src/component/Menu.jsx":"8"},{"size":529,"mtime":1625545537199,"results":"9","hashOfConfig":"10"},{"size":654,"mtime":1625545537195,"results":"11","hashOfConfig":"10"},{"size":177,"mtime":1625480925248,"results":"12","hashOfConfig":"10"},{"size":184,"mtime":1625480925248,"results":"13","hashOfConfig":"10"},{"size":348,"mtime":1625480925252,"results":"14","hashOfConfig":"10"},{"size":1155,"mtime":1625545987833,"results":"15","hashOfConfig":"10"},{"size":1889,"mtime":1625505314373,"results":"16","hashOfConfig":"10"},{"size":976,"mtime":1625547070201,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"20","usedDeprecatedRules":"21"},"1tblbn0",{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"21"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"21"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"21"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"21"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"21"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/syed/Documents/react-keycloak-js/src/index.js",["38","39","40","41"],"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport RenderOnAnonymous from \"./component/RenderOnAnonymous\";\nimport RenderOnAuthenticated from \"./component/RenderOnAuthenticated\";\nimport Welcome from \"./component/Welcome\";\nimport BookBox from \"./component/BookBox\";\nimport UserService from \"./services/UserService\";\n\nconst renderApp = () => ReactDOM.render(\n  <React.StrictMode>\n      <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\nUserService.initKeycloak(renderApp);",["42","43"],"/home/syed/Documents/react-keycloak-js/src/App.js",[],"/home/syed/Documents/react-keycloak-js/src/component/RenderOnAnonymous.jsx",[],"/home/syed/Documents/react-keycloak-js/src/component/RenderOnAuthenticated.jsx",[],"/home/syed/Documents/react-keycloak-js/src/component/Welcome.jsx",[],"/home/syed/Documents/react-keycloak-js/src/component/BookBox.jsx",["44"],"import UserService from \"../services/UserService\";\nimport Menu from \"./Menu\";\nimport React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\n\nconst Welcome = () => (\n  <div className=\"jumbotron\">\n\n      <Menu/>\n\n      <Switch>\n          <Route exact path=\"/\">\n              {/*<BookList/>*/}\n              List of books\n          </Route>\n          <Route exact path=\"/books/new\">\n              {/*<BookForm/>*/}\n              New book path\n          </Route>\n          {/*<Route path=\"/books/:bookId\">\n              <BookDetails/>\n          </Route>\n          <RolesRoute path=\"/secret\" roles={['admin']}>\n              <SecretBooks/>\n          </RolesRoute>*/}\n          <Route path=\"*\">\n              {/*<NoMatch/>*/}\n              No path\n          </Route>\n      </Switch>\n\n\n      {/*<div className=\"row\">\n\n          <h1>\n              Hello {UserService.getUsername()}\n\n          </h1>\n      </div>\n\n      <div className=\"row\">\n          <button className=\"btn btn-success\" style={{ marginRight: 0 }} onClick={() => UserService.doLogout()}>\n              Logout\n          </button>\n\n      </div>*/}\n\n  </div>\n)\n\nexport default Welcome\n","/home/syed/Documents/react-keycloak-js/src/services/UserService.js",["45"],"import Keycloak from \"keycloak-js\";\n\nconst _kc = new Keycloak('/keycloak.json');\n\n/**\n * Initializes Keycloak instance and calls the provided callback function if successfully authenticated.\n *\n * @param onAuthenticatedCallback\n */\nconst initKeycloak = (onAuthenticatedCallback) => {\n  _kc.init({\n    //onLoad: 'login-required',\n    onLoad: 'check-sso',\n    silentCheckSsoRedirectUri: window.location.origin + '/silent-check-sso.html',\n    pkceMethod: 'S256',\n  })\n    .then((authenticated) => {\n      // if (authenticated) {\n      onAuthenticatedCallback();\n      // } else {\n      //   doLogin();\n      // }\n    })\n};\n\nconst doLogin = _kc.login;\n\nconst doLogout = _kc.logout;\n\nconst getToken = () => _kc.token;\n\nconst isLoggedIn = () => !!_kc.token;\n\nconst updateToken = (successCallback) =>\n  _kc.updateToken(5)\n    .then(successCallback)\n    .catch(doLogin);\n\nconst getUsername = () => _kc.tokenParsed?.preferred_username;\n\nconst hasRole = (roles) => roles.some((role) => _kc.hasRealmRole(role));\n\nconst  tokenExpired =_kc.onTokenExpired = () => {\n  console.log('token expired!: previous token', _kc.token);\n\n  if(window.confirm('Do you want to keep login')){\n\n    try {\n\n      _kc.updateToken(5).then((response) => {\n        console.log('response',response);\n        if (response) {\n          console.log('successfully get a new token', _kc.token);\n        } else {\n          throw new Error('Something went wrong ...');\n        }\n      }).catch( err => {\n          console.log('400 response form server',err);\n         // doLogout();\n      });\n    }catch (e) {\n      console.log('err in try catch',e);\n      //doLogout();\n    }\n  }else {\n    console.log('User log out selected');\n    //doLogout();\n  }\n\n}\n\nconst UserService = {\n  initKeycloak,\n  doLogin,\n  doLogout,\n  isLoggedIn,\n  getToken,\n  updateToken,\n  getUsername,\n  hasRole,\n  //tokenExpired\n};\n\nexport default UserService;\n","/home/syed/Documents/react-keycloak-js/src/component/Menu.jsx",[],{"ruleId":"46","severity":1,"message":"47","line":4,"column":8,"nodeType":"48","messageId":"49","endLine":4,"endColumn":25},{"ruleId":"46","severity":1,"message":"50","line":5,"column":8,"nodeType":"48","messageId":"49","endLine":5,"endColumn":29},{"ruleId":"46","severity":1,"message":"51","line":6,"column":8,"nodeType":"48","messageId":"49","endLine":6,"endColumn":15},{"ruleId":"46","severity":1,"message":"52","line":7,"column":8,"nodeType":"48","messageId":"49","endLine":7,"endColumn":15},{"ruleId":"53","replacedBy":"54"},{"ruleId":"55","replacedBy":"56"},{"ruleId":"46","severity":1,"message":"57","line":1,"column":8,"nodeType":"48","messageId":"49","endLine":1,"endColumn":19},{"ruleId":"46","severity":1,"message":"58","line":43,"column":8,"nodeType":"48","messageId":"49","endLine":43,"endColumn":20},"no-unused-vars","'RenderOnAnonymous' is defined but never used.","Identifier","unusedVar","'RenderOnAuthenticated' is defined but never used.","'Welcome' is defined but never used.","'BookBox' is defined but never used.","no-native-reassign",["59"],"no-negated-in-lhs",["60"],"'UserService' is defined but never used.","'tokenExpired' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]